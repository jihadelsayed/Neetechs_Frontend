<div class="container" *ngIf="tool">
  <h2>{{ tool.title }}</h2>

  <div class="main">
    <div class="left">
      <h4>{{ tool.input }}</h4>
      <input type="file" accept="video/*" (change)="onFile($event)" />
      <input type="url" [(ngModel)]="url" placeholder="https://... (must allow CORS)" />
    </div>

    <div class="middle">
      <select class="selector" [(ngModel)]="mode">
        <option *ngFor="let o of tool.jobOption" [value]="o.value">{{ o.text }}</option>
      </select>
      <button [disabled]="busy" (click)="run()">{{ tool.button }}</button>
    </div>

    <div class="result-text">
      <h4>{{ tool.output }}</h4>
      <div *ngIf="downloadUrl; else nores">
        <a [href]="downloadUrl" [download]="downloadName">⬇️ Download {{ downloadName }}</a>
      </div>
      <ng-template #nores><code>—</code></ng-template>
      <pre *ngIf="logs.length">{{ logs.join('\n') }}</pre>
    </div>
  </div>

  <div class="container helpContainer" *ngIf="tool.heroText">
    <h4>{{ tool.heroText }}</h4>
    <a [href]="tool.heroLink" target="_blank">{{ tool.heroLinkName || tool.heroLink }}</a>
  </div>
</div>
